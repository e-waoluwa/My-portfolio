<!DOCTYPE html>
<html>
    <title>
        My calculator
    </title>
    <meta name="viewport" xcontent="width=device-width ,
    initial-scale= 1.0">
<style>
    :root {
  --bg-color: rgb(83, 69, 96);
  --text-color:  rgb(83, 69, 96);
  --btn-bg: black;
  --btn-text: rgb(83, 69, 96);
   --display-bg: white;
   --brg-color:black;
}

body {
  background-color: var(--bg-color);
  color: var(--text-color);
    }

    .overlay-text{
        border-radius: 7px 7px 7px 7px;
        border:5px solid var(--brg-color);
        height: 45vw;
        padding:7px;
        width: 34vw;
        background-color:var(--bg-color);
    }
    
  .display{
               width: 90%;
        height:55px;
        padding:5px;
        margin-top: 4px;
margin-left: 7px;
font-size: 28px;  
align-items: center;
        border:4px solid var(--brg-color) ;
    background-color:var(--display-bg) ;
    border-radius: 5px 5px 5px 5px;
    }

   .button{
grid-template-columns: repeat(5, 1fr);
display: grid;
gap:10px;
   }

   button{
    font-size: 15px;
    padding: 12px;

    background-color: var(--btn-bg);
    margin-top: 7px;
    color:var(--btn-text);
    border: 2px solid rgb(83, 69, 96);
   }

   button:hover{
    background-color: rgb(83, 69, 96);
    color:black;
    border: 2px solid black;
   }
</style>
<div class="overlay-text">
    <input type="text" class="display" id="display" disabled>
    <div class="button">
    <button onclick="clearDisplay()">C</button>
    <button onclick="deleteLast()">DEL</button>
    <button onclick="append('(')">(</button>
    <button onclick="append(')')">)</button>
    <button title="Cube root of x" onclick="append('∛(')">∛</button>
    <button onclick="append('x²')">x²</button>
    <button onclick="append('x³(')">x³</button>
    <button onclick="append('tan(')">tan</button>
    <button onclick="append('sin(')">sin</button>
    <button onclick="append('cos(')">cos</button>
    




    <button style="color:beige;" onclick="append('7')">7</button>
    <button style="color:beige;" onclick="append('8')">8</button>
    <button style="color:beige;" onclick="append('9')">9</button>
    <button onclick="append('log(')">log</button>
    <button onclick="append('e')">e</button>

    <button style="color:beige;" onclick="append('4')">4</button>
    <button style="color:beige;" onclick="append('5')">5</button>
    <button style="color:beige;" onclick="append('6')">6</button>
    <button onclick="append('x')">x</button>
    <button onclick="append('÷')">÷</button>

    <button style="color:beige;" onclick="append('1')">1</button>
    <button style="color:beige;" onclick="append('2')">2</button>
    <button style="color:beige;" onclick="append('3')">3</button>
    <button onclick="append('+')">+</button>
    <button onclick="append('-')">-</button>   

    <button style="color:beige;" onclick="append('0')">0</button>
    <button onclick="append('factorial')">x!</button>
    <button onclick="append('%')">%</button>
     <button onclick="append('π')">π</button>
    



    <button onclick="calculate()">=</button>
    </div>
</div>
 <button id="toggle-btn">Change Theme</button>
<script>
    function append(value){
        document.getElementById('display').value +=value;
    
    }
     function clearDisplay(){
        document.getElementById('display').value='';
    
     }

     function deleteLast(){
        let display= document.getElementById('display');
        display.value=display.value.slice(0,-1);
     }

     function calculate(){
        try{
            let expression= document.getElementById('display').value;
            expression=expression.replace( /sin\(/g,'Math.sin(');
            expression=expression.replace( /cos\(/g, 'Math.cos(');
            expression=expression.replace(/tan\(/g, 'Math.tan(');
          expression=expression.replace(/log/g, 'Math.log10');
          expression=expression.replace(/∛\(/g, 'Math.cbrt(');
          expression=expression.replace(/e/g, 'Math.E');
          expression=expression.replace(/π/g, 'Math.PI');
          expression=expression.replace(/x/g, '*');
          expression=expression.replace(/÷/g, '/');
       let result = Function("toRadians", "return " + expression)(toRadians);
        document.getElementById('display').value=result;
        }
        catch(errors){
            document.getElementById('display').value='error'
    }

     }
     function toRadians(deg) {
    return deg * Math.PI / 180;
     }

     
      const toggleBtn = document.getElementById("toggle-btn");

    let darkMode = false;

    toggleBtn.addEventListener("click", () => {
      if (!darkMode) {
        document.documentElement.style.setProperty("--bg-color", "#121212");
        document.documentElement.style.setProperty("--text-color", " rgb(83, 69, 96)");
        document.documentElement.style.setProperty("--btn-bg", "# rgb(83, 69, 96)");
        document.documentElement.style.setProperty("--btn-text", " rgb(83, 69, 96)");
       document.documentElement.style.setProperty("--brg-color", "rgb(83, 69, 96)");
        darkMode = true;
      } else {
        document.documentElement.style.setProperty("--bg-color", " rgb(83, 69, 96)");
        document.documentElement.style.setProperty("--text-color", "black");
        document.documentElement.style.setProperty("--btn-bg", "black");
        document.documentElement.style.setProperty("--btn-text", " rgb(83, 69, 96)");
        document.documentElement.style.setProperty("--brg-color", "black");
        darkMode = false;
      }
    });

</script>

</body>
</html>
