<!DOCTYPE html>
<html>
    <head>
        <title> To-Do list</title>
        <meta name="viewport" 
        content="width=width-device , initial-scale=1.0">
        <style>

          * {
  transition: all 0.3s ease;
}

            :root{
                --bg-color:white;
                --btn-color:black;
                --br-color:black;
                --txt-color:black;
                --btn-color-text:white;
                --greeting-color: black;
              --time-color: #555;

            }
  

            body{  font-family: 'Segoe UI', sans-serif;               
      justify-content: center;
      padding: 20px;

                background-color:var(--bg-color);
            }
             .overlay{background-color: var(--bg-color);
                box-shadow: 0 10px 30px rgba(0,0,0,0.1);
                border-radius: 5px 5px 5px 5px;
                border: 4px solid var(--br-color);
                color:var(--txt-color);
                width: 40vw;
                justify-content: center;
                align-items: center;
                height:45vw;
                padding:7px;
              margin-left: 22vw;

             }

button{
    background-color: var(--btn-color);
    color:var(--btn-color-text);
    border-radius: 0 5px 5px 0;
    padding:3px;
}

button:hover{
    opacity: 0.7;
}

boat{
    padding:2px;
    margin-left: 70px;
}
 

boat:hover{
    opacity: 0.7; 
}

.Done span {
  text-decoration: line-through;
  opacity: 0.6;
}

input{border:2px solid var(--br-color);
align-items: center;
border-radius: 5px 0 0 5px;
align-items: center;
width: 60%;
 padding:3px;
}


 .whole{
    display:flex;
 }

.display{
    width:90%;
    height: 29px;
    display: flex;
border:3px solid var(--btn-color);
background-color:var(--bg-color);
color: var(--txt-color);
margin-left: 15px;
padding: 5px;
justify-content: flex-start;
 align-items: center;
  margin-left: 0; 
border-radius: 5px 5px 5px 5px;

}

 
   .display input[type="checkbox"] {
    margin-left: 0;
  }



  @media (max-width: 768px) {
  .overlay {
    width: 90vw;
    height: auto;
    margin-left: 0;
    padding: 20px;
  }

  .whole {
    flex-direction: column;
    align-items: flex-start;
  }

  .whole h2 {
    margin-bottom: 10px;
  }

  input {
    width: 70%;
  }

  button {
    padding: 6px 10px;
  }
}


        </style>
    </head>
    <body>

        <div class="overlay">
            <div class="whole">
            <h2 style="color:var(--greeting-color)">Hello <span id="greeting"></span>!</h2>
            <p style=" font-size: 14px;
      color:var(--time-color); margin-left: 16vw;">Time:<span id="clock"></span></p>
        </div>
        
        <h3 style="margin-left: 30%; color:var(--greeting-color)"> To-Do list</h3>
        <div style="margin-left: 20%;">
            <input id="taskinput" class="input" type="text" placeholder="Add a task">
            <button  id="taskbutton" class="button">Add</button>
        </div>

<br>
<br>
       <div style="color:var(--greeting-color)" id="taskdisplay"></div>
            </div>

             <button style="padding:3px;" id="toggle-btn">Change Theme</button>
            <script>
const taskinput= document.getElementById("taskinput");
const taskbutton=document.getElementById("taskbutton");
const taskdisplay=document.getElementById("taskdisplay");

const getformattedDate = () => {
    const date= new Date ();
    return date.toLocaleDateString("en-GB");
};

const createTaskElement = (text) =>{
    const task= document.createElement("div")
    task.className="display";

 const checkbox=document.createElement("input")
 checkbox.type="checkbox";
 checkbox.addEventListener("change", ()=> {
 task.classList.toggle("Done");});

const taskText=document.createElement("span");
 taskText.textContent=text;

 const deletebtn=document.createElement("boat");
 deletebtn.textContent="ðŸ—‘ï¸";
 deletebtn.addEventListener("click", ()=>{
    task.remove();
 }
);

task.append(
    checkbox, taskText, deletebtn);
 return task;
};


 

const addTask=() => {
   const taskText= taskinput.value.trim();
   if (!taskText) return;

   const date= getformattedDate();
   let dateSelection= document.querySelector(`[data-date="${date}"]`);
    if (!dateSelection) {
    dateSelection = document.createElement("div");
    dateSelection.className = "task-section";
    dateSelection.setAttribute("data-date", date);

    const dateLabel = document.createElement("div");
    dateLabel.className = "task-date";
    dateLabel.textContent = `Date: ${date}`;

    dateSelection.appendChild(dateLabel);
    taskdisplay.appendChild(dateSelection);
  }

const task= createTaskElement(taskText);
dateSelection.appendChild(task);
taskinput.value="";
};

taskbutton.addEventListener("click", addTask);
taskinput.addEventListener("keypress", (e) => {
  if (e.key === "Enter") addTask();
});

const greetingEl = document.getElementById("greeting");
const clockEl = document.getElementById("clock");

const updateClock = () => {
  const now = new Date();
  clockEl.textContent = now.toLocaleTimeString();
};

const updateGreeting = () => {
  const hour = new Date().getHours();
  let greeting = "Good Morning";
  if (hour >= 12 && hour < 17) greeting = "Good Afternoon";
  else if (hour >= 17) greeting = "Good Evening";
  greetingEl.textContent = greeting;
};
setInterval(updateClock, 1000);
updateGreeting();
updateClock();


  const toggleBtn = document.getElementById("toggle-btn");

    let darkMode = false;

    toggleBtn.addEventListener("click", () => {
      if (!darkMode) {
        document.documentElement.style.setProperty("--bg-color", "#121212");
        document.documentElement.style.setProperty("--text-color", "white");
        document.documentElement.style.setProperty("--btn-bg", " rgb(83, 69, 96)");
        document.documentElement.style.setProperty("--btn-text", " rgb(83, 69, 96)");
          document.documentElement.style.setProperty("--greeting-color", "white");
    document.documentElement.style.setProperty("--time-color", "#555");
    document.documentElement.style.setProperty("--txt-color", "white");
    document.documentElement.style.setProperty("--br-color", "white");
    document.documentElement.style.setProperty("--btn-color", "white");
    document.documentElement.style.setProperty("--btn-color-text", "black");

        darkMode = true;
      } else {
        document.documentElement.style.setProperty("--bg-color", "white");
        document.documentElement.style.setProperty("--text-color", "black");
        document.documentElement.style.setProperty("--btn-bg", "black");
        document.documentElement.style.setProperty("--btn-text", " rgb(83, 69, 96)");
          document.documentElement.style.setProperty("--greeting-color", "black");
    document.documentElement.style.setProperty("--time-color", "#555");
    document.documentElement.style.setProperty("--txt-color", "black");
    document.documentElement.style.setProperty("--br-color", "black");
    document.documentElement.style.setProperty("--btn-color", "white");
    document.documentElement.style.setProperty("--btn-color-text", "white");

        darkMode = false;
      }
    });
 

            </script>
    
    </body>
</html>